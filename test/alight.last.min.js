!function(){Array.prototype.indexOf||(Array.prototype.indexOf=function(e,t){var n,r,o=t?t:0;if(!this)throw new TypeError;if(r=this.length,0===r||o>=r)return-1;for(0>o&&(o=r-Math.abs(o)),n=o;r>n;n++)if(this[n]===e)return n;return-1}),"function"!=typeof String.prototype.trim&&(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")}),window.f$||(window.f$={}),f$.browser=function(){var e,t=navigator.appName,n=navigator.userAgent.toLowerCase(),r=n.match(/(opera|chrome|safari|firefox|msie)\/?\s*(\.?\d+(\.\d+)*)/i);return r&&null!=(e=n.match(/version\/([\.\d]+)/i))&&(r[2]=e[1]),r=r?[r[1],r[2]]:[t,navigator.appVersion,"-?"],{name:r[0],version_string:r[1],version:Number(r[1].match(/\d+/))}}();var e=!1,t=!1,n=!1,r=window.$;if(f$.__jquery?(n=5,r=f$.__jquery):(("chrome"===f$.browser.name||"safari"===f$.browser.name)&&(e=!0),"firefox"===f$.browser.name&&(t=f$.browser.version),"msie"===f$.browser.name&&(n=f$.browser.version)),f$.text=n&&8>n?function(e,t){r(e).text(t)}:function(e,t){return 2!==arguments.length?e.textContent||e.innerText:void(void 0!==e.textContent?e.textContent=t:e.innerText=t)},f$.html=n&&6>n?function(e,t){return 2!==arguments.length?r(e).html():void r(e).html(t)}:function(e,t){return 2!==arguments.length?e.innerHTML:void(e.innerHTML=t)},f$.createComment=function(e){return document.createComment(e)},f$.before=function(e,t){var n=e.parentNode;n.insertBefore(t,e)},f$.after=function(e,t){var n=e.parentNode,r=e.nextSibling;r?n.insertBefore(t,r):n.appendChild(t)},f$.remove=function(e){var t=e.parentNode;t&&t.removeChild(e)},n&&9>n?f$.on=function(e,t,n){r(e).on(t,n)}:(f$.on=function(e,t,n){e.addEventListener(t,n,!1)},f$.off=function(e,t,n){e.removeEventListener(t,n,!1)}),f$.clone=function(e){return e.cloneNode(!0)},f$.find=n&&8>n?function(e,t){return r(e).find(t)}:function(e,t){return e.querySelectorAll(t)},n&&8>n?(f$.attr=function(e,t,n){return r(e).attr(t,n)},f$.removeAttr=function(e,t){r(e).removeAttr(t)}):(f$.attr=function(e,t,n){return 2===arguments.length?e.getAttribute(t):void e.setAttribute(t,n)},f$.removeAttr=function(e,t){e.removeAttribute(t)}),f$.isFunction=function(e){var t={};return e&&"[object Function]"===t.toString.call(e)},f$.isObject=function(e){var t={};return e&&"[object Object]"===t.toString.call(e)},f$.isArray=function(e){return e instanceof Array},f$.val=n&&6>n?function(e,t){return 1===arguments.length?r(e).val():void r(e).val(t)}:function(e,t){return 1===arguments.length?e.value:void(e.value=t)},f$.prop=n&&6>n?function(e,t,n){return 2===arguments.length?r(e).prop(t):void r(e).prop(t,n)}:function(e,t,n){return 2===arguments.length?e[t]:void(e[t]=n)},n&&8>n?(f$.addClass=function(e,t){r(e).addClass(t)},f$.removeClass=function(e,t){r(e).removeClass(t)}):(f$.addClass=function(e,t){e.classList?e.classList.add(t):e.className+=" "+t},f$.removeClass=function(e,t){e.classList?e.classList.remove(t):e.className=e.className.replace(new RegExp("(^| )"+t.split(" ").join("|")+"( |$)","gi")," ")}),n&&8>n?(f$.show=function(e){r(e).show()},f$.hide=function(e){r(e).hide()}):(f$.show=function(e){f$.removeClass(e,"al-hide")},f$.hide=function(e){f$.addClass(e,"al-hide")}),f$.children=n&&9>n||t&&4>t?function(e){return r(e).children()}:function(e){return e.children},f$.childNodes=function(e){for(var t=[],n=e.childNodes,r=0;r<n.length;r++)t.push(n[r]);return t},f$.getAttributes=n&&8>n?function(e){var t={},n=r(e);return n.length&&r.each(n.get(0).attributes,function(e,r){var r=r.nodeName||r.name;e=n.attr(r),void 0!=e&&e!==!1&&(t[r]=e)}),t}:function(e){for(var t,n={},r=e.attributes,o=0,i=r.length;i>o;o++)t=r.item(o),n[t.nodeName]=t.nodeValue;return n},f$.ready=n&&9>n?function(e){r(e)}:function(){function e(){n=!0,f$.off(document,"DOMContentLoaded",e);for(var r=0;r<t.length;r++)t[r]();t.length=0}var t=[],n=!1;return f$.on(document,"DOMContentLoaded",e),function(e){n?e():t.push(e)}}(),n&&9>n){var o=function(){};f$.ajax=function(e){r.ajax({url:e.url,type:e.type||"GET"}).then(e.success||o,e.error||o)}}else f$.ajax=function(e){var t=new XMLHttpRequest;t.open(e.type||"GET",e.url,!0),t.send(),e.success&&(t.onload=function(){t.status>=200&&t.status<400?e.success(t.responseText):e.error&&e.error()}),e.error&&(t.onerror=e.error)};n&&8>n?(f$.focus=function(e){r(e).focus()},f$.blur=function(e){r(e).blur()}):(f$.focus=function(e){e.focus()},f$.blur=function(e){e.blur()}),function(){var e='@charset "UTF-8";[al-cloak],.al-hide{display:none !important;}',t=f$.find(document,"head")[0],n=document.createElement("style");n.setAttribute("type","text/css"),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e)),t.appendChild(n)}()}();
(function(){var Scope,alight,attrBinding,compile_cache,directivePreprocessor,get_time,notEqual,process,sortByPriority,testDirective,textBinding;window.alight=alight={version:"0.6.0",debug:{scan:!1,directive:!1,watch:!1,watchText:!1,parser:!1},autostart:!0,scopes:[],controllers:{},filters:{},utilits:{},directives:{al:{},bo:{},ctrl:{}},text:{},apps:{}},alight.directivePreprocessor=directivePreprocessor=function(t,e,r){var i,n,s,o;if(e=e.replace(/(-\w)/g,function(t){return t.substring(1).toUpperCase()}),s=alight.directives[t][e],!s)return{noDirective:!0};if(i={},f$.isFunction(s))i.init=s;else{if(!f$.isObject(s))throw"Wrong directive: "+t+"."+e;for(n in s)o=s[n],i[n]=o}if(i.priority=s.priority||0,i.restrict=s.restrict||"A",i.restrict.indexOf(r.attr_type)<0)throw"Directive has wrong binding (attribute/element): "+e;return i.$init=function(n,s,o,a){var c,l,u,p,f;for(l={element:n,expression:s,scope:o,env:a,ns:t,name:e,args:r,directive:i,result:{}},f=directivePreprocessor.ext,u=0,p=f.length;p>u;u++)c=f[u],c.fn.call(l);return l.result},i},function(){var t;return directivePreprocessor.ext=t=[],t.push({code:"init",fn:function(){return this.result=this.directive.init?this.directive.init(this.element,this.expression,this.scope,this.env)||{}:{}}}),t.push({code:"template",fn:function(){return this.directive.template?f$.html(this.element,this.directive.template):void 0}}),t.push({code:"scope",fn:function(){var t;return this.doBinding=!1,this.directive.scope?(t=this.scope,this.scope=t.$new("isolate"===this.directive.scope),this.result.owner=!0,this.doBinding=!0):void 0}}),t.push({code:"link",fn:function(){return this.directive.link?this.directive.link(this.element,this.expression,this.scope,this.env):void 0}}),t.push({code:"scopeBinding",fn:function(){return this.doBinding?alight.applyBindings(this.scope,this.element,{skip_attr:this.env.skippedAttr()}):void 0}})}(),testDirective=function(){var t;return t=function(t,e,r){var i;return"A"===e.attr_type?(i=r||{},i.priority=-5,i.is_attr=!0,i.name=t,i.attrName=t,i.element=e.element,e.list.push(i)):void 0},function(e,r){var i,n,s,o;return r.skip_attr.indexOf(e)>=0?t(e,r,{skip:!0}):(n=e.indexOf("-"),0>n?t(e,r):(o=e.substring(0,n),s=e.substring(n+1),alight.directives[o]?(i=alight.directivePreprocessor(o,s,r),i.noDirective?t(e,r,{noDirective:!0}):r.list.push({name:s,directive:i,priority:i.priority,attrName:e})):t(e,r)))}}(),sortByPriority=function(t,e){return t.priority===e.priority?0:t.priority>e.priority?-1:1},process=function(){var t,e;return e=function(t,e){var r,i,n,s,o;for(1===arguments.length&&(e=!0),o=this.attributes,n=0,s=o.length;s>n;n++)if(r=o[n],r.attrName===t)return e&&(r.skip=!0),i=f$.attr(this.element,t),i||!0;return null},t=function(){var t,e,r,i,n;for(i=this.attributes,n=[],e=0,r=i.length;r>e;e++)t=i[e],t.skip&&n.push(t.attrName);return n},function(r,i,n){var s,o,a,c,l,u,p,f,h,g,d,y,v,m,$,_,x,b,k,w,S;if(n=n||{},m=!1,v=n.skip_attr||[],v instanceof Array||(v=[v]),!n.skip_top){s={list:g=[],element:i,skip_attr:v,attr_type:"E",scope:r},o=i.nodeName.toLowerCase(),testDirective(o,s),s.attr_type="A",c=f$.getAttributes(i);for(o in c)a=c[o],testDirective(o,s);for(g=g.sort(sortByPriority),_=0,b=g.length;b>_;_++)if(l=g[_],!l.skip){if(l.noDirective)throw"Directive not found: "+l.name;if(l.skip=!0,$=f$.attr(i,l.attrName),l.is_attr)attrBinding(i,$,r,l.attrName);else{u=l.directive,f={element:i,attrName:l.attrName,attributes:g,takeAttr:e,skippedAttr:t},alight.debug.directive&&console.log("bind",l.attrName,$,l);try{y=u.$init(i,$,r,f),y&&y.start&&y.start()}catch(B){p=B,console.error("Error in directive:",l.name),h="string"==typeof p?p:p.stack,console.error(h)}if(y&&y.owner){m=!0;break}}}}if(!m){for(w=f$.childNodes(i),S=[],x=0,k=w.length;k>x;x++)d=w[x],d&&S.push(1===d.nodeType?process(r,d):3===d.nodeType?textBinding(r,d):void 0);return S}}}(),attrBinding=function(t,e,r,i){var n,s,o;return s=e,s.indexOf(alight.utilits.pars_start_tag)<0?void 0:(n=function(e){return f$.attr(t,i,e)},o=r.$watchText(s,n,{readOnly:!0}),n(o.value))},textBinding=function(t,e){var r,i,n;return i=e.data,i.indexOf(alight.utilits.pars_start_tag)<0?void 0:(r=function(t){return e.nodeValue=t},n=t.$watchText(i,r,{readOnly:!0}),r(n.value))},Scope=function(){return this instanceof Scope?(this.$system={watches:{},watch_any:[],root:this,children:[],scan_callbacks:[],destroy_callbacks:[],finishBinding_callbacks:[],finishBinding_lock:!1},this):new Scope},alight.Scope=Scope,Scope.prototype.$watch=function(t,e,r){var i,n,s,o,a,c,l,u;if(c=this,r===!0?r={isArray:!0}:r||(r={}),r.is_array&&(r.isArray=!0),f$.isFunction(t))n=t,s=alight.utilits.getId();else{if(n=null,t=t.trim(),"::"===t.slice(0,2)&&(t=t.slice(2),r.oneTime=!0),s=t,"$any"===s)return c.$system.watch_any.push(e);if("$destroy"===s)return c.$system.destroy_callbacks.push(e);if("$finishBinding"===s)return c.$system.root.$system.finishBinding_callbacks.push(e);s=r.deep?"d#"+s:r.isArray?"a#"+s:"v#"+s}return alight.debug.watch&&console.log("$watch",t),u=c.$system.watches,i=u[s],i?r.readOnly||(i.extraLoop=!0):(n=n||c.$compile(t),l=n(),r.deep?(l=alight.utilits.clone(l),r.isArray=!1):r.isArray&&f$.isArray(l)&&(l=l.slice()),u[s]=i={isArray:Boolean(r.isArray),extraLoop:!r.readOnly,deep:r.deep,value:l,callbacks:[],exp:n}),o={$:i,value:i.value},r.oneTime&&(a=e,e=function(t){return void 0!==t?(o.stop(),a(t)):void 0}),i.callbacks.push(e),o.stop=function(){var t;if(t=i.callbacks.indexOf(e),t>=0){if(i.callbacks.splice(t,1),0!==i.callbacks.length)return;return delete u[s]}},r.init&&e(o.value),o},Scope.prototype.$fire=function(t){var e;return(e=this.$system.watches[t])?e.fire=!0:void 0},compile_cache={},Scope.prototype.$compile=function(src_exp,cfg){var ainput,e,exp,f1,ff,filters,func,hash,no_return,resp,result,scope;if(cfg=cfg||{},resp={},src_exp=src_exp.trim(),"::"===src_exp.slice(0,2)&&(src_exp=src_exp.slice(2),resp.oneTime=!0),cfg.stringOrOneTime&&(cfg.string=!resp.oneTime),hash=src_exp+"#",hash+=cfg.no_return?"+":"-",hash+=cfg.string?"s":"v",cfg.input&&(hash+=cfg.input.join(",")),scope=this,func=compile_cache[hash])return resp.fn=function(){var t,e;try{return func.apply(scope,arguments)}catch(r){return t=r,e="string"==typeof t?t:t.stack,console.error(src_exp,e)}},cfg.full?resp:resp.fn;exp=src_exp,no_return=cfg.no_return||!1,ff=alight.utilits.parsExpression(exp,{input:cfg.input}),exp=ff[0],filters=ff.slice(1),ainput=cfg.input?cfg.input.join(","):"",result=no_return?"(function(){ return (function("+ainput+") { "+exp+" }); })()":cfg.string&&!filters.length?"(function(){ return (function("+ainput+") { var __ = ("+exp+"); return '' + (__ || (__ == null?'':__)) }); })()":"(function(){ return (function("+ainput+") { return ( "+exp+" ) }); })()";try{func=eval(result)}catch(_error){throw e=_error,"Wrong expression: "+exp}return filters.length&&(func=alight.utilits.filterBuilder(scope,func,filters),cfg.string&&(f1=func,func=function(){var t=f1.apply(this,arguments);return""+(t||(null==t?"":t))})),compile_cache[hash]=func,resp.fn=function(){var t;try{return func.apply(scope,arguments)}catch(r){return e=r,t="string"==typeof e?e:e.stack,console.error(src_exp,t)}},cfg.full?resp:resp.fn},Scope.prototype.$eval=function(t){var e,r;return r=this,(e=r.$compile(t))()},Scope.prototype.$getValue=function(t){var e,r,i,n,s;for(e=this,s=t.split("."),i=0,n=s.length;n>i;i++)r=s[i],e=(e||{})[r];return e},Scope.prototype.$setValue=function(t,e){var r,i,n,s,o,a,c;for(n=this,i=t.split("."),s=a=0,c=i.length-2;c>=a;s=a+=1)o=i[s],r=n[o],void 0===r&&(n[o]=r={}),n=r;return o=i[i.length-1],n[o]=e},Scope.prototype.$new=function(t){var e,r,i;return i=this,t?r=alight.Scope():(e=function(){},e.prototype=i,r=new e),r.$parent=i,r.$system={watches:{},watch_any:[],root:i.$system.root,children:[],destroy_callbacks:[]},i.$system.children.push(r),r},Scope.prototype.$destroy=function(){var t,e,r,i,n,s,o,a,c,l;for(i=this,c=i.$system.destroy_callbacks,n=0,o=c.length;o>n;n++)(t=c[n])(i);for(i.$system.destroy_callbacks=[],l=i.$system.children.slice(),s=0,a=l.length;a>s;s++)r=l[s],r.$destroy();return i.$parent&&(e=i.$parent.$system.children.indexOf(i),i.$parent.$system.children.splice(e,1)),i.$parent=null,i.$system.watches={},i.$system.watch_any.length=0},get_time=function(){return window.performance?function(){return Math.floor(performance.now())}:function(){return(new Date).getTime()}}(),notEqual=function(t,e){var r,i,n,s,o,a;if(null===t||null===e)return!0;if(i=typeof t,n=typeof e,i!==n)return!0;if("object"===i){if(t.length!==e.length)return!0;for(r=o=0,a=t.length;a>o;r=++o)if(s=t[r],s!==e[r])return!0}return!1},Scope.prototype.$scan=function(t){var e,r,i,n,s,o,a,c,l,u,p,f,h,g,d,y,v,m,$,_,x,b,k,w,S,B,T;if(t=t||{},f$.isFunction(t)&&(t={callback:t}),f=this.$system.root,y=t.top||f,t.callback&&f.$system.scan_callbacks.push(t.callback),"scaning"===f.$system.status)return void(f.$system.extraLoop=!0);if(t.late){if(y!==f)throw"conflict: late and top";if(f.$system.lateScan)return;return f.$system.lateScan=!0,void alight.nextTick(function(){return f.$system.lateScan?f.$scan():void 0})}f.$system.lateScan=!1,f.$system.status="scaning",alight.debug.scan&&(d=get_time());try{for(l=10;l;){for(l--,v=0,n=0,f.$system.extraLoop=!1,a=!1,p=[y],e=[];p.length;){g=p.shift(),u=!1,B=g.$system.watches;for(o in B)if($=B[o],v++,m=$.exp(),c=$.value,c!==m&&($.isArray?notEqual(c,m)&&($.value=f$.isArray(m)?m.slice():m,u=!0):$.deep?alight.utilits.equal(c,m)||(u=!0,$.value=alight.utilits.clone(m)):(u=!0,$.value=m)),u){for(u=!1,n++,$.extraLoop&&(a=!0),T=$.callbacks.slice(),_=0,k=T.length;k>_;_++)r=T[_],r.call(g,m);alight.debug.scan&&console.log("changed:",o)}g.$system.children.length&&p.push.apply(p,g.$system.children),g.$system.watch_any.length&&e.push.apply(e,g.$system.watch_any)}if(n)for(x=0,w=e.length;w>x;x++)(i=e[x])();if(!a&&!f.$system.extraLoop)break}if(alight.debug.scan&&(s=get_time()-d,console.log("$scan: ("+(10-l)+") "+v+" / "+s+"ms")),!l)throw"Infinity loop detected"}finally{for(f.$system.status=null,h=f.$system.scan_callbacks.slice(),f.$system.scan_callbacks.length=0,b=0,S=h.length;S>b;b++)r=h[b],r.call(f)}},function(){var t,e;return t={},e=function(t){var e,r,i;for(r=0,i=t.length;i>r;r++)if(e=t[r],"expression"===e.type&&!e["static"])return!1;return!0},Scope.prototype.$compileText=function(r,i){var n,s,o,a,c,l,u,p,f,h;if(l=this,i=i||{},r.indexOf(alight.utilits.pars_start_tag)<0)return i.result_on_static?r:function(){return r};for(a=alight.utilits.parsText(r),s=function(){var e,i,n,s,o,c;if(i=t[r])return function(){return i.call(a)};for(s=[],n=o=0,c=a.length;c>o;n=++o)e=a[n],"expression"===e.type?s.push(e.fn?"this["+n+"].fn()":"((x=this["+n+"].value) || (x == null?'':x))"):e.value&&s.push('"'+e.value.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\n/g,"\\n")+'"');return s=s.join(" + "),i=new Function("var x; return ("+s+")"),t[r]=i,function(){return i.call(a)}},p=0,f=0,h=a.length;h>f;f++)o=a[f],"expression"===o.type&&("="===o.list[0][0]&&(o.list[0]="#bindonce "+o.list[0].slice(1)),c=o.list.join(" | "),"#"===c[0]?(!function(t){var r,n;return r=!1,n={data:t,setter:function(e){return t.value=e},"finally":function(s){return 1===arguments.length&&n.setter(s),t["static"]=!0,r&&i.onStatic&&e(a)?i.onStatic():void 0}},alight.text.$base(l,t,n),r=!0}(o),o["static"]||p++):(n=l.$compile(c,{stringOrOneTime:!0,full:!0}),n.oneTime?!function(t,r){return t.fn=function(){var n;return n=r.fn(),void 0===n?"":(null===n&&(n=""),t.fn=function(){return n},t["static"]=!0,i.onStatic&&e(a)&&i.onStatic(),n)}}(o,n):o.fn=n.fn,p++));return p?s():(u=s()(),i.result_on_static?u:function(){return u})}}(),Scope.prototype.$evalText=function(t){return this.$compileText(t)()},Scope.prototype.$watchText=function(t,e,r){var i,n,s,o,a;if(o=this,r=r||{},alight.debug.watchText&&console.log("$watchText",t),a=o.$system.watches,i=a[t])r.readOnly||(i.extraLoop=!0);else{if(i={extraLoop:!r.readOnly,isArray:!1,callbacks:[],onStatic:[]},n=o.$compileText(t,{result_on_static:!0,onStatic:function(){var e,r,s,c,l,u,p;for(s=n(),r=function(){return i.exp=function(){return s},o.$scan(function(){return i.callbacks.length=0,delete a[t]})},"scaning"===o.$system.root.$system.status?r():i.exp=function(){if("scaning"!==o.$system.root.$system.status)throw"Error, no scanning";return r(),s},u=i.onStatic,p=[],c=0,l=u.length;l>c;c++)e=u[c],p.push(e(s));return p}}),!f$.isFunction(n))return{value:n};i.exp=n,i.value=n(),a[t]=i}return r.onStatic&&i.onStatic.push(r.onStatic),i.callbacks.push(e),s={$:i,value:i.value,exp:i.exp,stop:function(){var r;if(r=i.callbacks.indexOf(e),r>=0){if(i.callbacks.splice(r,1),0!==i.callbacks.length)return;return delete a[t]}}}},alight.nextTick=function(){var t,e,r;return r=null,e=[],t=function(){var t,i,n,s,o,a,c,l,u;for(r=null,i=e.slice(),e.length=0,u=[],c=0,l=i.length;l>c;c++){o=i[c],t=o[0],a=o[1];try{u.push(t.call(a))}catch(p){n=p,s="string"==typeof n?n:n.stack,u.push(console.error(s))}}return u},function(i){return e.push([i,this]),r?void 0:r=setTimeout(t,0)}}(),alight.getController=function(t){var e;if(e=alight.controllers[t]||window[t],!e)throw"Controller isn't found: "+t;if(!(e instanceof Function))throw"Wrong controller: "+t;return e},alight.getFilter=function(t){if(!alight.filters[t])throw"Filter not found: "+t;return alight.filters[t]},alight.text.$base=function(t,e,r){var i,n,s,o,a;if(s=e.list[0],a=s.indexOf(" "),0>a?(n=s.slice(1),s=""):(n=s.slice(1,a),s=s.slice(a)),i=alight.text[n],!i)throw"No directive alight.text."+n;return e.list.length>1&&(o=alight.utilits.filterBuilder(t,null,e.list.slice(1)),r.setter=function(t){return e.value=o(t)}),i(r.setter,s,t,r)},alight.applyBindings=function(t,e,r){var i,n,s,o,a,c;if(!e)throw"No element";if(t||(t=new alight.Scope),n=!t.$system.root.$system.finishBinding_lock,n&&(t.$system.root.$system.finishBinding_lock=!0),r=r||{},process(t,e,r),n){for(t.$system.root.$system.finishBinding_lock=!1,s=t.$system.root.$system.finishBinding_callbacks.slice(),t.$system.root.$system.finishBinding_callbacks.length=0,c=[],o=0,a=s.length;a>o;o++)i=s[o],c.push(i());return c}},alight.bootstrap=function(t){var e,r,i,n,s,o,a,c,l,u;for(t||(t=f$.find(document,"[al-app]")),f$.isArray(t)||void 0!==t.length||(t=[t]),u=[],c=0,l=t.length;l>c;c++)n=t[c],n.ma_bootstrapped||(n.ma_bootstrapped=!0,e=f$.attr(n,"al-app"),e?"#"===e[0]?(o=e.split(" "),a=o[0].substring(1),i=o[1],s=alight.apps[a],s?i&&console.error('New controller on exists scope: al-app="'+e+'"'):(alight.apps[a]=s=alight.Scope(),i&&(r=alight.getController(i))(s))):(s=alight.Scope(),(r=alight.getController(e))(s)):s=alight.Scope(),u.push(alight.applyBindings(s,n,{skip_attr:"al-app"})));return u},f$.ready(function(){return alight.autostart?alight.bootstrap():void 0})}).call(this);
(function(){var t,n;alight.utilits.getId=function(){var t,n;return n=function(){var t,n,r,e,i,f;for(f="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".split(""),r=Math.floor((new Date).valueOf()/1e3)-1388512800,i="";r>0;)t=Math.floor(r/62),e=62*t,n=r-e,r=t,i=f[n]+i;return i}(),t=1,function(){return n+"#"+t++}}(),alight.utilits.filterBuilder=function(t,n,r){var e,i,f,u,l,a,o,c;if(!r||!r.length)return n;for(o=0,c=r.length;c>o;o++)i=r[o],e=i.match(/\s*([\w\d_]+?)\s*:\s*(.*?)\s*$/),e?(l=e[1],a=e[2]):(l=i.trim(),a=null),f=alight.getFilter(l,t,a),u=f.call(t,a,t),n=n?function(t,n){return function(r){return t.call(this,n.call(this,r))}}(u,n):u;return n},alight.utilits.clone=t=function(n){var r,e,i,f;if(!n)return n;if("object"==typeof n){if(n instanceof Array)return i=function(){var e,i,f;for(f=[],e=0,i=n.length;i>e;e++)r=n[e],f.push(t(r));return f}();if(n instanceof Date)return new Date(n);if(n.nodeType&&"function"==typeof n.cloneNode)return n;i={};for(e in n)f=n[e],"$alite_id"!==e&&(i[e]=t(f));return i}return n},alight.utilits.equal=n=function(t,r){var e,i,f,u,l,a,o,c;if(!t)return t===r;if(u=typeof t,l=typeof r,u!==l)return!1;if("object"===u){if(t instanceof Array){if(t.length!==r.length)return!1;for(e=o=0,c=t.length;c>o;e=++o)if(a=t[e],!n(a,r[e]))return!1;return!0}if(t instanceof Date)return t.valueOf()===r.valueOf();if(t.nodeType&&"function"==typeof t.cloneNode)return t===r;f={};for(i in t)if(a=t[i],"$alite_id"!==i&&(f[i]=!0,!n(a,r[i])))return!1;for(i in r)if(a=r[i],"$alite_id"!==i&&!f[i]&&!n(a,t[i]))return!1;return!0}return t===r},alight.utilits.dataByElement=function(t,n){var r;return r=t.al,r||(t.al=r={}),n?(r[n]||(r[n]={}),r[n]):r}}).call(this);
(function(){var t;t=["break","do","instanceof","typeof","case","else","new","var","catch","finally","return","void","continue","for","switch","while","debugger","function","this","with","default","if","throw","delete","in","try","class","enum","extends","super","const","export","import","null","true","false","undefined"],alight.utilits.parsExpression=function(i,n){var e,r,s,l,u,a,h,o,f;if(n=n||{},l=n.input||[],s=0,h=[],a=0,o=[],u=function(n,e,r,f){var g,p,c,d,v;for(d="",v=-1,c=function(){var i;if(d&&!(t.indexOf(d)>=0||(i=d.split(".")[0],l.indexOf(i)>=0||"this."===d.slice(0,5)||d[0].match(/[\d\.]/))))return o.push(v)};s<i.length;){if(g=i[s],s+=1,p=i[s],r&&(g.match(/[\d\w_\.\$]/)?(d||(v=s-1),d+=g):("}"===e&&":"===i.substring(s-1).trim()[0]&&(d=""),c(),d="")),g===e)return;"("!==g||f?"["!==g||f?"{"!==g||f?'"'===g?u(n+1,'"',!1,!0):"'"===g?u(n+1,"'",!1,!0):"|"===g&&0===n&&("|"===p?s+=1:(r=!1,h.push(i.substring(a,s-1)),a=s)):u(n+1,"}",!0):u(n+1,"]",r):u(n+1,")",r)}return 0===n&&h.push(i.substring(a)),c()},u(0,null,!0),o.length){for(e=h[0],f=o.length-1;f>=0;f+=-1)r=o[f],e=e.slice(0,r)+"this."+e.slice(r);h[0]=e}return 8&alight.debug&&console.log("parser",h),h},alight.utilits.pars_start_tag="{{",alight.utilits.pars_finish_tag="}}",alight.utilits.parsText=function(t){var i,n,e,r,s,l,u,a,h;return h=alight.utilits.pars_start_tag,n=alight.utilits.pars_finish_tag,u=[],r=0,l=0,e=function(i){var n;return i=i||1,n=t.substring(l,r-i),l=r,n},a=null,s=function(i,l,h){var o,f,g,p;for(i||(a={type:"expression",list:[]},u.push(a)),p=null,o=null;r<t.length;){if(p=o,o=t[r],r+=1,f=p+o,g=t[r],o===l)return;if(!h){if(f===n&&0===i)return a.list.push(e(2)),!0;"("===o?s(i+1,")"):"{"===o?s(i+1,"}"):'"'===o?s(i+1,'"',!0):"'"===o?s(i+1,"'",!0):"|"===o&&0===i&&("|"===g?r+=1:a.list.push(e()))}}},i=function(){var i,n,l,a,o;for(l=null,i=null;r<t.length;)if(l=i,i=t[r],r+=1,n=l+i,n===h){if(o=e(2),o&&u.push({type:"text",value:o}),!s(0))throw"Wrong expression"+t;i=null}return a=e(-1),a?u.push({type:"text",value:a}):void 0},i(),8&alight.debug&&console.log("parsText",u),u}}).call(this);
(function(){var n,t,r,e,i,o,u,a;for(alight.text.bindonce=function(n,t,r,e){return e["finally"](r.$eval(t))},t=alight.directives.al,t.debug={priority:5e3,init:function(n,t,r){return alight.debug=t?r.$eval(t):-1}},t.text=function(n,t,r){var e,i;return e="",i={start:function(){return i.watchModel(),i.initDom()},updateDom:function(t){return(void 0===t||null===t)&&(t=""),f$.text(n,t)},watchModel:function(){var n;return n=r.$watch(t,i.updateDom,{readOnly:!0}),e=n.value},initDom:function(){return i.updateDom(e)}}},t.value=function(n,t,r){var e,i;return e=null,i={changing:!1,makeSetter:function(){return i.setter=r.$compile(t+" = $_value",{no_return:!0,input:["$_value"]})},onDom:function(){return f$.on(n,"keydown",i.updateModel),f$.on(n,"change",i.updateModel)},updateModel:function(){return alight.nextTick(function(){var t;return t=f$.val(n),i.changing=!0,i.setter(t),r.$scan(function(){return i.changing=!1})})},watchModel:function(){var n;return n=r.$watch(t,i.updateDom,{readOnly:!0}),e=n.value},updateDom:function(t){return i.changing?void 0:void 0!==t&&null!==t?f$.val(n,t):void 0},initDom:function(){return i.updateDom(e)},start:function(){return i.makeSetter(),i.onDom(),i.watchModel(),i.initDom()}}},n=function(n){return function(t,r,e){var i;return i={callback:e.$compile(r,{no_return:!0}),start:function(){return i.onDom()},onDom:function(){return f$.on(t,n,i.doCallback)},doCallback:function(n){return n.preventDefault(),n.stopPropagation(),f$.attr(t,"disabled")?void 0:(i.callback(),e.$scan())}}}},t.click=n("click"),t.dblclick=n("dblclick"),t.submit=function(n,t,r){var e;return e={callback:r.$compile(t,{no_return:!0}),start:function(){return e.onDom()},onDom:function(){return f$.on(n,"submit",e.doCallback)},doCallback:function(n){return n.preventDefault(),n.stopPropagation(),e.callback(),r.$scan()}}},t.controller={priority:500,restrict:"AE",init:function(n,t,r,e){var i,o;return o=r.$new(),t&&(i=alight.getController(t))(o),alight.applyBindings(o,n,{skip_attr:e.skippedAttr()}),{owner:!0}}},t.checked=function(n,t,r){var e,i;return e=!1,i={changing:!1,start:function(){return i.makeSetter(),i.onDom(),i.watchModel(),i.initDom()},makeSetter:function(){return i.setter=r.$compile(t+" = $_value",{no_return:!0,input:["$_value"]})},onDom:function(){return f$.on(n,"change",i.updateModel)},updateModel:function(){var t;return t=f$.prop(n,"checked"),i.changing=!0,i.setter(t),r.$scan(function(){return i.changing=!1})},watchModel:function(){var n;return n=r.$watch(t,i.updateDom,{readOnly:!0}),e=!!n.value},updateDom:function(t){return i.changing?void 0:f$.prop(n,"checked",!!t)},initDom:function(){return i.updateDom(e)}}},t.css={priority:30,init:function(n,t,r){var e;return e={start:function(){return e.parsLine(),e.prepare()},parsLine:function(){var n;e.list=n=[];for(var r,i=/[\w\d\-\._]+\s*?:/gi,o=-1,u=0;result=i.exec(t);)u=result.index,o>=0&&(r=t.substring(o,u).trim(),","==r[r.length-1]&&(r=r.substring(0,r.length-1)),n.push(r)),o=u;return o>=0&&n.push(t.substring(o)),null},prepare:function(){var n,t,i,o,u,a,c,l,f,d;for(f=e.list,d=[],c=0,l=f.length;l>c;c++)o=f[c],i=o.split(":"),t=i[0].trim(),a=i[1].trim(),n=function(n){return function(t){return e.draw(n,t)}}(t),u=r.$watch(a,n,{readOnly:!0}),d.push(n(u.value));return d},draw:function(t,r){return r?f$.addClass(n,t):f$.removeClass(n,t)}}}},e=function(n){var t;return t={priority:700,init:function(t,r,e){var i;return i=e.$eval(r),!i===n?(f$.remove(t),{owner:!0}):void 0}}},alight.directives.bo["if"]=e(!0),alight.directives.bo.ifnot=e(!1),t["if"]={priority:700,init:function(n,t,r,e){var i,o,u,a,c,l;return a=null,o=null,i=null,l=null,u=!1,c={direction:!0,owner:!0,start:function(){return c.prepare(),c.watchModel(),c.initUpdate()},prepare:function(){return i=n,l=f$.createComment(" "+e.attrName+": "+t+" "),f$.before(n,l),f$.remove(n)},updateDom:function(n){if(!n===c.direction){if(!o)return;return o.$destroy(),c.removeDom(a),o=null,a=null}if(!o)return a=f$.clone(i),c.insertDom(l,a),o=r.$new(),alight.applyBindings(o,a,{skip_attr:e.skippedAttr()})},watchModel:function(){var n;return n=r.$watch(t,c.updateDom,{readOnly:!0}),u=!!n.value},initUpdate:function(){return c.updateDom(u)},removeDom:function(n){return f$.remove(n)},insertDom:function(n,t){return f$.after(n,t)}}}},t.ifnot={priority:700,init:function(){return t=alight.directives.al["if"].init.apply(this,arguments),t.direction=!1,t}},t.show=function(n,t,r){var e,i;return e=!1,i={showDom:function(){return f$.show(n)},hideDom:function(){return f$.hide(n)},updateDom:function(n){return n?i.showDom():i.hideDom()},watchModel:function(){var n;return n=r.$watch(t,i.updateDom,{readOnly:!0}),e=n.value},initDom:function(){return i.updateDom(e)},start:function(){return i.watchModel(),i.initDom()}}},t.hide=function(n,t,r,e){var i;return i=alight.directives.al.show(n,t,r,e),i.updateDom=function(n){return n?i.hideDom():i.showDom()},i},t.app={priority:2e3,init:function(){return{owner:!0}}},t.stop={priority:-10,restrict:"AE",init:function(){return{owner:!0}}},t.init=function(n,t,r){return r.$compile(t,{no_return:!0})(),r.$scan({late:!0})},t.include={priority:100,init:function(n,t,r,e){var i,o,u,a,c,l;return u=null,o=null,l=null,i=null,a=null,c={owner:!0,topElement:null,start:function(){return c.prepare(),c.watchModel(),c.initUpdate()},prepare:function(){return o=n,l=f$.createComment(" "+e.attrName+": "+t+" "),f$.before(n,l),f$.remove(n)},loadHtml:function(n){return f$.ajax(n)},removeBlock:function(){return u&&(u.$destroy(),u=null),i?(c.removeDom(i),i=null):void 0},insertBlock:function(n){return i=f$.clone(o),f$.html(i,n),c.insertDom(l,i),u=r.$new(),alight.applyBindings(u,i,{skip_attr:e.skippedAttr()})},updateDom:function(n){return n?c.loadHtml({url:n,success:function(n){return c.removeBlock(),c.insertBlock(n)},error:c.removeBlock}):c.removeBlock()},removeDom:function(n){return f$.remove(n)},insertDom:function(n,t){return f$.after(n,t)},watchModel:function(){var n;return n=r.$watch(t,c.updateDom,{readOnly:!0}),a=n.value},initUpdate:function(){return c.updateDom(a)}}}},t.html={priority:100,init:function(n,t,r,e){var i,o,u;return i=null,u=function(t){return i&&(i.$destroy(),i=null),t?(f$.html(n,t),i=r.$new(),alight.applyBindings(i,n,{skip_attr:e.skippedAttr()})):void f$.html(n,"")},o=r.$watch(t,u,{readOnly:!0}),u(o.value),{owner:!0}}},alight.directives.bo["switch"]={priority:500,init:function(n,t,r,e){var i;return i=r.$new(),i.$switch={value:r.$eval(t),on:!1},alight.applyBindings(i,n,{skip_attr:e.skippedAttr()}),{owner:!0}}},alight.directives.bo.switchWhen={priority:500,init:function(n,t,r){return r.$switch.value!==t?(f$.remove(n),{owner:!0}):r.$switch.on=!0}},alight.directives.bo.switchDefault={priority:500,init:function(n,t,r){return r.$switch.on?(f$.remove(n),{owner:!0}):null}},t.src=function(n,t,r){var e,i;return i=function(t){return t||(t=""),f$.attr(n,"src",t)},e=r.$watchText(t,i,{readOnly:!0}),i(e.value)},alight.directives.bo.src=function(n,t,r){var e;return e=r.$evalText(t),e?f$.attr(n,"src",e):void 0},t.enable=function(n,t,r){var e,i;return e=function(t){return t?f$.removeAttr(n,"disabled"):f$.attr(n,"disabled","disabled")},i=r.$watch(t,e,{readOnly:!0}),e(i.value)},t.disable=function(n,t,r){var e,i;return e=function(t){return t?f$.attr(n,"disabled","disabled"):f$.removeAttr(n,"disabled")},i=r.$watch(t,e,{readOnly:!0}),e(i.value)},t.readonly=function(n,t,r){var e,i;return e=function(t){return f$.prop(n,"readOnly",!!t)},i=r.$watch(t,e,{readOnly:!0}),e(i.value)},a=["keydown","keypress","keyup","mousedown","mouseenter","mouseleave","mousemove","mouseover","mouseup","focus","blur","change"],i=function(n){return t[n]=function(t,r,e){var i;return i={start:function(){return i.makeCaller(),i.onDom()},makeCaller:function(){return i.caller=e.$compile(r,{no_return:!0,input:["$event"]})},onDom:function(){return f$.on(t,n,i.callback)},callback:function(n){return i.caller(n),e.$scan()}}}},o=0,u=a.length;u>o;o++)r=a[o],i(r);t.cloak=function(n,t,r,e){return f$.removeAttr(n,e.attrName),t?f$.removeClass(n,t):void 0},t.focused=function(n,t,r){var e,i;return e=!1,i={changing:!1,updateModel:function(n){return i.changing?void 0:(i.changing=!0,r.$setValue(t,n),r.$scan(function(){return i.changing=!1}))},onDom:function(){return f$.on(n,"focus",function(){return i.updateModel(!0)}),f$.on(n,"blur",function(){return i.updateModel(!1)})},updateDom:function(t){return i.changing?void 0:(i.changing=!0,t?f$.focus(n):f$.blur(n),i.changing=!1)},watchModel:function(){var n;return n=r.$watch(t,i.updateDom,{readOnly:!0}),e=n.value},initDom:function(){return i.updateDom(e)},start:function(){return i.onDom(),i.watchModel(),i.initDom()}}}}).call(this);
(function(){alight.directives.al.repeat={priority:1e3,init:function(e,t,r,n){var i;return i={owner:!0,start:function(){return i.prepare(),i.parsExpression(),i.prepareDom(),i.watchModel(),i.initUpdateDom()},prepare:function(){var e;return e=n.takeAttr("al-controller"),i.childController=e?alight.getController(e):null},parsExpression:function(){var e,r;if(r=t,e=r.match(/(.*) store to ([\w\.]+)/),e&&(i.storeTo=e[2],r=e[1]),e=r.match(/(.*) track by ([\w\.\$\(\)]+)/),e&&(i.trackExpression=e[2],r=e[1]),e=r.match(/\s*(\w+)\s+in\s+(.+)/),!e)throw"Wrong repeat: "+t;return i.nameOfKey=e[1],i.expression=e[2]},watchModel:function(){return i.watch=r.$watch(i.expression,i.updateDom,{isArray:!0,readOnly:!i.storeTo})},initUpdateDom:function(){return i.updateDom(i.watch.value)},prepareDom:function(){return i.base_element=e,i.top_element=f$.createComment(" "+t+" "),f$.before(e,i.top_element),f$.remove(e)},makeChild:function(e,t,n){var a;return a=r.$new(),i.updateChild(a,e,t,n),i.childController&&i.childController(a),a},updateChild:function(e,t,r,n){return e[i.nameOfKey]=t,e.$index=r,e.$first=0===r,e.$last=r===n.length-1},rawUpdateDom:function(e,t){var r,n,i,a,o,l,p;for(i=0,o=e.length;o>i;i++)r=e[i],f$.remove(r);for(p=[],a=0,l=t.length;l>a;a++)n=t[a],p.push(f$.after(n.after,n.element));return p},updateDom:function(){var t,a,o,l,p;return p=[],l={},a=null,o=0,t=null,function(u){var s,c,f,h,m,d,v,$,x,g,w,y,D,_,k,C,E,b,U,O,T,A,K,I;for(a||("$index"===i.trackExpression?a=function(e){var r;if(t=o,r=l[t]){if("object"!=typeof r.item)return r;if(r.item===e)return r}return null}:i.trackExpression?(_=r.$compile(i.trackExpression,{input:["$id",i.nameOfKey]}),C=function(e){var t;return(t=e.$alite_id)?t:t=e.$alite_id=alight.utilits.getId()},a=function(e){return t=_(C,e),t?l[t]:null}):a=function(e){return(t=e.$alite_id)?l[t]:(t=alight.utilits.getId(),e.$alite_id=t,null)}),u&&u.length||(u=[]),i.storeTo&&(r.$setValue(i.storeTo,u),r.$scan({late:!0})),$=i.top_element,f=[],w=[],k=0,O=p.length;O>k;k++)g=p[k],g.active=!1;for(o=E=0,T=u.length;T>E;o=++E)d=u[o],g=a(d),g&&(g.active=!0);for(h=function(){var e,t,r;for(r=[],e=0,t=p.length;t>e;e++)g=p[e],g.active||(g.prev&&(g.prev.next=g.next),g.next&&(g.next.prev=g.prev),delete l[g.$id],g.scope.$destroy(),r.push(g.element));return r}(),s=[],y=null,D=null,o=b=0,A=u.length;A>b;o=++b)if(d=u[o],v=d,d=d||{},g=a(d)){if(i.updateChild(g.scope,d,o,u),g.prev===D){D=g,$=g.element,g.active=!0,w.push(g);continue}g.prev=D,D&&(D.next=g),f.push({element:g.element,after:D?D.element:i.top_element}),$=g.element,D=g,g.active=!0,w.push(g)}else c=i.makeChild(v,o,u),e=f$.clone(i.base_element),s.push([c,e]),f.push({element:e,after:$}),g={$id:t,scope:c,element:e,prev:D,next:null,active:!0,item:d},l[t]=g,D?(x=D.next,D.next=g,g.next=x,x&&(x.prev=g)):0===o&&p[0]&&(x=p[0],g.next=x,x.prev=g),D=g,$=e,w.push(g);for(p=w,i.rawUpdateDom(h,f),I=[],U=0,K=s.length;K>U;U++)m=s[U],I.push(alight.applyBindings(m[0],m[1],{skip_attr:n.skippedAttr()}));return I}}()}}},alight.directives.bo.repeat={priority:1e3,init:function(e,t,r,n){var i;return i=alight.directives.al.repeat.init(e,t,r,n),i.start=function(){return i.prepare(),i.parsExpression(),i.prepareDom(),i.watch={value:r.$eval(i.expression)},i.initUpdateDom()},i}}}).call(this);
(function(){var e;alight.filters.filter=function(e,t){var n;return n=t.$compile(e),function(e){var t,r,i,o,f,u,l;if(r=n(),!r)return e;if("string"==typeof r)r={$:r};else if("object"!=typeof r)return e;return u=function(){var n,u,a;for(a=[],n=0,u=e.length;u>n;n++)if(f=e[n],"object"==typeof f){if(i=!0,r.$){i=!1,t=r.$.toLowerCase();for(o in f)if(l=f[o],"$alite_id"!==o&&(""+l).toLowerCase().indexOf(t)>=0){i=!0;break}if(!i)continue}i=!0;for(o in r)if(l=r[o],t=f[o],t&&(""+t).toLowerCase().indexOf((""+l).toLowerCase())<0){i=!1;break}if(!i)continue;a.push(f)}else{if(!r.$)continue;if(t=r.$.toLowerCase(),(""+f).toLowerCase().indexOf(t)<0)continue;a.push(f)}return a}()}},alight.filters.slice=function(e,t){var n;return n=t.$compile("["+e+"]"),function(e){return[].slice.apply(e,n())}},e=function(e){return 10>e?"0"+e:""+e},alight.filters.date=function(t){return function(n){var r,i,o,f,u;if(!n)return"";for(o=[[/yyyy/g,n.getFullYear()],[/mm/g,e(n.getMonth()+1)],[/dd/g,e(n.getDate())],[/HH/g,e(n.getHours())],[/MM/g,e(n.getMinutes())]],i=t,f=0,u=o.length;u>f;f++)r=o[f],i=i.replace(r[0],r[1]);return i}},alight.filters.generator=function(){var e;return e=[],function(t){if(e.length>=t)e.length=t;else for(;e.length<t;)e.push({});return e}}}).call(this);
